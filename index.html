<!DOCTYPE html>
<html>
<head>
    <title>Freeload Project</title>
</head>
<body>
    <h2>Upload ReLo and FMER Files</h2>
    <form id="upload-form">
        <label for="relo_file">Select ReLo file:</label>
        <input type="file" id="relo_file" name="relo_file"><br><br>
        <label for="fmer_file">Select FMER file:</label>
        <input type="file" id="fmer_file" name="fmer_file"><br><br>
        <button type="button" onclick="uploadFiles()">Let's Freeload</button>
    </form>
    <p id="message"></p>

    <script>
        async function uploadFiles() {
            const reloFile = document.getElementById('relo_file').files[0];
            const fmerFile = document.getElementById('fmer_file').files[0];

            if (!reloFile || !fmerFile) {
                document.getElementById('message').innerText = 'Please select both files.';
                return;
            }

            const formData = new FormData();
            formData.append('relo_file', reloFile);
            formData.append('fmer_file', fmerFile);

            const response = await fetch('https://api.github.com/repos/your-username/freeload-project/actions/workflows/process.yml/dispatches', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer YOUR_GITHUB_PERSONAL_ACCESS_TOKEN`,
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    ref: 'main',
                    inputs: {
                        relo_file: reloFile.name,
                        fmer_file: fmerFile.name
                    }
                })
            });

            if (response.ok) {
                document.getElementById('message').innerText = 'Files uploaded and processing started.';
            } else {
                document.getElementById('message').innerText = 'Failed to start processing.';
            }
        }
    </script>
</body>
</html>
